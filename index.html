<!doctype html>
<html lang="hi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Smart Khaata тАФ Home, Rent & Farm Manager</title>

  <!-- PWA meta -->
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#0f1221">

  <link rel="stylesheet" href="style.css">
  
  <!-- PWA -->
<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#0f1221">

<!-- iPhone support -->
<link rel="apple-touch-icon" href="icon-192.png">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">

<!-- Service Worker Register -->
<script>
  if ("serviceWorker" in navigator) {
    navigator.serviceWorker.register("service-worker.js")
      .then(() => console.log("SW Registered"));
  }
</script>

</head>
<body>
  <!-- HEADER -->
  <header class="main-header">
    <div class="header-left">
      <div class="logo">
        <div class="logo-badge" aria-hidden="true"></div>
        <div>
          <h1>Smart Khaata</h1>
          <span class="muted">Home тАв Rent тАв Farm</span>
        </div>
      </div>
    </div>

    <!-- controls -->
    <div class="header-right">
      <nav class="tabs desktop-tabs" aria-label="Main tabs">
        <button class="tab-btn active" data-tab="home">ЁЯПа Home</button>
        <button class="tab-btn" data-tab="rent">ЁЯПв Rent</button>
        <button class="tab-btn" data-tab="farm">ЁЯМ╛ Farm</button>
        <button class="tab-btn" data-tab="reports">ЁЯУК Reports</button>
        <button class="tab-btn" data-tab="backup">ЁЯЧДя╕П Backup</button>
        <button class="tab-btn" data-tab="settings">тЪЩя╕П Settings</button>
      </nav>

      <button id="menu-toggle" class="menu-btn" aria-label="Open menu">тШ░</button>
    </div>
  </header>

  <!-- MOBILE SLIDE MENU -->
  <aside id="mobile-menu" class="slide-menu" aria-hidden="true">
    <button data-tab="home">ЁЯПа Home</button>
    <button data-tab="rent">ЁЯПв Rent</button>
    <button data-tab="farm">ЁЯМ╛ Farm</button>
    <button data-tab="reports">ЁЯУК Reports</button>
    <button data-tab="backup">ЁЯЧДя╕П Backup</button>
    <button data-tab="settings">тЪЩя╕П Settings</button>
  </aside>

  <!-- BOTTOM NAV (mobile) -->
  <nav class="bottom-nav" aria-hidden="true">
    <button data-tab="home">ЁЯПа</button>
    <button data-tab="rent">ЁЯПв</button>
    <button data-tab="farm">ЁЯМ╛</button>
    <button data-tab="reports">ЁЯУК</button>
    <button id="fab-export" title="Export">тмЗя╕П</button>
  </nav>

  <!-- MAIN -->
  <main class="container">
    <!-- HOME -->
    <section class="tab card" id="tab-home" role="region">
      <h2>ЁЯПа Home Expenses</h2>
      <p class="muted">рдШрд░ рдХреЗ рдЦрд░реНрдЪ рдЬреЛрдбрд╝реЗрдВ, рдХреИрдЯреЗрдЧрд░реА рдХреЗ рд╣рд┐рд╕рд╛рдм рд╕реЗ рдЯреНрд░реИрдХ рдХрд░реЗрдВред</p>

      <div class="grid">
        <div class="card">
          <form id="form-home">
            <div class="row">
              <div class="col-4">
                <label>рддрд╛рд░реАрдЦ</label>
                <input type="date" name="date" required />
              </div>
              <div class="col-4">
                <label>рдХреИрдЯреЗрдЧрд░реА</label>
                <select name="category" required>
                  <option>рдХрд┐рд░рд╛рдирд╛</option><option>рдпреВрдЯрд┐рд▓рд┐рдЯреА</option><option>рджрд╡рд╛</option>
                  <option>рдкрд░рд┐рд╡рд╣рди</option><option>рд╢рд┐рдХреНрд╖рд╛</option><option>рдЕрдиреНрдп</option>
                </select>
              </div>
              <div class="col-4">
                <label>рд░рд╛рд╢рд┐ (тВ╣)</label>
                <input type="number" name="amount" step="0.01" min="0" required />
              </div>
              <div class="col-12">
                <label>рд╡рд┐рд╡рд░рдг</label>
                <input type="text" name="note" placeholder="рдЙрджрд╛. рджреВрдз, рд╕рдмреНрдЬрд╝реА, рдмрд┐рдЬрд▓реА рдмрд┐рд▓..." />
              </div>
            </div>

            <div class="toolbar">
              <button class="btn" type="submit">тЮХ рдЦрд░реНрдЪ рдЬреЛрдбрд╝реЗрдВ</button>
              <button class="btn secondary" type="button" id="home-clear">рд╕реВрдЪреА рд╕рд╛рдлрд╝ рдХрд░реЗрдВ</button>
            </div>
          </form>
        </div>

        <div class="card">
          <div class="kpi">
            <div class="box">
              <div class="small muted">рдЗрд╕ рдорд╛рд╣ рдХреБрд▓ рдЦрд░реНрдЪ</div>
              <div class="val" id="home-month-total">тВ╣0</div>
              <div class="bar"><div class="fill" id="home-month-bar" style="width:0%"></div></div>
            </div>
            <div class="box">
              <div class="small muted">рджреИрдирд┐рдХ рдФрд╕рдд</div>
              <div class="val" id="home-daily-avg">тВ╣0</div>
            </div>
            <div class="box">
              <div class="small muted">рд╕рдмрд╕реЗ рдмрдбрд╝реА рдХреИрдЯреЗрдЧрд░реА</div>
              <div class="val" id="home-top-cat">тАФ</div>
            </div>
          </div>

          <div class="toolbar">
            <input id="home-search" placeholder="рдЦреЛрдЬреЗрдВ (рдХреИрдЯреЗрдЧрд░реА/рд╡рд┐рд╡рд░рдг)" />
            <select id="home-month-filter"><option value="">рд╕рднреА рдорд╣реАрдиреЗ</option></select>
            <button class="btn secondary small" id="home-export">CSV рдПрдХреНрд╕рдкреЛрд░реНрдЯ</button>
          </div>

          <div class="table-wrap">
            <table id="home-table">
              <thead><tr><th>рддрд╛рд░реАрдЦ</th><th>рдХреИрдЯреЗрдЧрд░реА</th><th>рд╡рд┐рд╡рд░рдг</th><th>рд░рд╛рд╢рд┐</th><th></th></tr></thead>
              <tbody></tbody>
            </table>
          </div>
        </div>
      </div>
    </section>

    <!-- RENT -->
    <section class="tab card hidden" id="tab-rent">
      <h2>ЁЯПв Rent Income</h2>
      <p class="muted">рдХрд┐рд░рд╛рдпреЗ рдХреА рдЗрдирдХрдо, рджреЗрдп/рдкреНрд░рд╛рдкреНрддрд┐ рдФрд░ рдЯреЗрдиреЗрдВрдЯ рдЯреНрд░реИрдХ рдХрд░реЗрдВред</p>

      <div class="grid">
        <div class="card">
          <form id="form-rent">
            <div class="row">
              <div class="col-3"><label>рддрд╛рд░реАрдЦ</label><input type="date" name="date" required /></div>
              <div class="col-3"><label>рдЯреЗрдиреЗрдВрдЯ</label><input type="text" name="tenant" required /></div>
              <div class="col-3"><label>рдорд╣реАрдирд╛</label>
                <select name="month" required>
                  <option>Jan</option><option>Feb</option><option>Mar</option><option>Apr</option>
                  <option>May</option><option>Jun</option><option>Jul</option><option>Aug</option>
                  <option>Sep</option><option>Oct</option><option>Nov</option><option>Dec</option>
                </select>
              </div>
              <div class="col-3"><label>рд░рд╛рд╢рд┐ (тВ╣)</label><input type="number" name="amount" min="0" required /></div>
              <div class="col-6"><label>рд╕реНрдЯреЗрдЯрд╕</label>
                <select name="status"><option>Received</option><option>Pending</option><option>Partial</option></select>
              </div>
              <div class="col-6"><label>рдиреЛрдЯ</label><input type="text" name="note" /></div>
            </div>
            <div class="toolbar">
              <button class="btn" type="submit">тЮХ рдЗрдирдХрдо рдЬреЛрдбрд╝реЗрдВ</button>
              <button class="btn secondary" id="rent-clear">рд╕реВрдЪреА рд╕рд╛рдлрд╝ рдХрд░реЗрдВ</button>
            </div>
          </form>
        </div>

        <div class="card">
          <div class="kpi">
            <div class="box"><div class="small muted">рдорд╛рд╣ рдХреА рдХреБрд▓ рд╡рд╕реВрд▓реА</div><div class="val" id="rent-month-total">тВ╣0</div></div>
            <div class="box"><div class="small muted">рдкреЗрдВрдбрд┐рдВрдЧ</div><div class="val" id="rent-pending">тВ╣0</div></div>
            <div class="box"><div class="small muted">рдЯреЗрдиреЗрдВрдЯреНрд╕</div><div class="val" id="rent-tenants">0</div></div>
          </div>

          <div class="toolbar">
            <input id="rent-search" placeholder="рдЯреЗрдиреЗрдВрдЯ/рдиреЛрдЯ рдЦреЛрдЬреЗрдВ" />
            <select id="rent-month-filter"><option value="">рд╕рднреА рдорд╣реАрдиреЗ</option></select>
            <button class="btn secondary small" id="rent-export">CSV рдПрдХреНрд╕рдкреЛрд░реНрдЯ</button>
          </div>

          <div class="table-wrap">
            <table id="rent-table">
              <thead><tr><th>рддрд╛рд░реАрдЦ</th><th>рдЯреЗрдиреЗрдВрдЯ</th><th>рдорд╣реАрдирд╛</th><th>рд░рд╛рд╢рд┐</th><th>рд╕реНрдЯреЗрдЯрд╕</th><th></th></tr></thead>
              <tbody></tbody>
            </table>
          </div>
        </div>
      </div>
    </section>

    <!-- FARM -->
    <section class="tab card hidden" id="tab-farm">
      <h2>ЁЯМ╛ Farm Management</h2>
      <p class="muted">рдЦрд░реНрдЪ/рдЙрддреНрдкрд╛рджрди/рдмрд┐рдХреНрд░реАтАФрдПрдХ рд╣реА рдЬрдЧрд╣ред</p>

      <div class="grid">
        <div class="card">
          <form id="form-farm">
            <div class="row">
              <div class="col-3"><label>рддрд╛рд░реАрдЦ</label><input type="date" name="date" required /></div>
              <div class="col-3"><label>рдЯрд╛рдЗрдк</label>
                <select name="type"><option>Expense</option><option>Yield</option><option>Sale</option></select></div>
              <div class="col-3"><label>рдлрд╝рд╕рд▓</label><input type="text" name="crop" required /></div>
              <div class="col-3"><label>рд░рд╛рд╢рд┐/рдорд╛рддреНрд░рд╛</label><input type="number" name="value" required /></div>
              <div class="col-12"><label>рдиреЛрдЯ</label><input type="text" name="note" /></div>
            </div>
            <div class="toolbar">
              <button class="btn">тЮХ рд░рд┐рдХреЙрд░реНрдб рдЬреЛрдбрд╝реЗрдВ</button>
              <button class="btn secondary" id="farm-clear">рд╕реВрдЪреА рд╕рд╛рдлрд╝ рдХрд░реЗрдВ</button>
            </div>
          </form>
        </div>

        <div class="card">
          <div class="kpi">
            <div class="box"><div class="small muted">рдХреБрд▓ рдлрд╝рд╛рд░реНрдо рдЦрд░реНрдЪ</div><div class="val" id="farm-expense">тВ╣0</div><div class="bar"><div class="fill" id="farm-expense-bar"></div></div></div>
            <div class="box"><div class="small muted">рдХреБрд▓ рдмрд┐рдХреНрд░реА</div><div class="val" id="farm-sales">тВ╣0</div><div class="bar"><div class="fill" id="farm-sales-bar"></div></div></div>
            <div class="box"><div class="small muted">рдЕрдиреБрдорд╛рдирд┐рдд рд▓рд╛рдн</div><div class="val" id="farm-profit">тВ╣0</div></div>
          </div>

          <div class="toolbar">
            <input id="farm-search" placeholder="рдлрд╝рд╕рд▓/рдиреЛрдЯ рдЦреЛрдЬреЗрдВ" />
            <select id="farm-type-filter"><option value="">рд╕рднреА</option><option>Expense</option><option>Yield</option><option>Sale</option></select>
            <button class="btn secondary small" id="farm-export">CSV рдПрдХреНрд╕рдкреЛрд░реНрдЯ</button>
          </div>

          <div class="table-wrap">
            <table id="farm-table">
              <thead><tr><th>рддрд╛рд░реАрдЦ</th><th>рдЯрд╛рдЗрдк</th><th>рдлрд╝рд╕рд▓</th><th>рдорд╛рддреНрд░рд╛</th><th>рдиреЛрдЯ</th><th></th></tr></thead>
              <tbody></tbody>
            </table>
          </div>
        </div>
      </div>
    </section>

    <!-- REPORTS -->
    <section class="tab card hidden" id="tab-reports">
      <h2>ЁЯУК Reports & Insights</h2>
      <div class="grid">
        <div class="card">
          <h3>рд╕рдорд░реА</h3>
          <div class="kpi">
            <div class="box"><div class="small muted">Home рдЦрд░реНрдЪ</div><div class="val" id="r-home">тВ╣0</div></div>
            <div class="box"><div class="small muted">Rent рдкреНрд░рд╛рдкреНрддрд┐</div><div class="val" id="r-rent">тВ╣0</div></div>
            <div class="box"><div class="small muted">Farm рдкреНрд░реЙрдлрд┐рдЯ</div><div class="val" id="r-farm">тВ╣0</div></div>
          </div>
        </div>

        <div class="card">
          <h3>рдорд╛рд╕рд┐рдХ рдЯреНрд░реЗрдВрдб</h3>
          <div class="bar" style="height:16px;margin:10px 0"><div class="fill" id="r-ratio" style="width:50%"></div></div>
          <div class="muted small">рдиреАрд▓рд╛ = Rent, рд╣рд░рд╛ = Home рддреБрд▓рдирд╛</div>
        </div>
      </div>
    </section>

    <!-- BACKUP -->
    <section class="tab card hidden" id="tab-backup">
      <h2>ЁЯЧДя╕П Backup / Restore</h2>
      <div class="toolbar">
        <button class="btn" id="backup-export">JSON Export</button>
        <label for="backup-import" class="btn secondary">JSON Import</label>
        <input type="file" id="backup-import" class="hidden" accept="application/json" />
      </div>
      <textarea id="backup-text" rows="8" placeholder="рдпрд╣рд╛рдБ JSON рджрд┐рдЦреЗрдЧрд╛тАж"></textarea>
    </section>

    <!-- SETTINGS -->
    <section class="tab card hidden" id="tab-settings">
      <h2>тЪЩя╕П Settings</h2>
      <div class="row">
        <div class="col-6"><label>рдорд╣реАрдиреЗ рдХрд╛ рдЦрд░реНрдЪ рд▓рдХреНрд╖реНрдп</label><input id="goal-expense" type="number" min="0" /></div>
        <div class="col-6"><label>рдХрд┐рд░рд╛рдпрд╛ рд▓рдХреНрд╖реНрдп</label><input id="goal-rent" type="number" min="0" /></div>
      </div>
      <button class="btn" id="save-settings">рд╕реЗрд╡</button>
      <span class="muted" id="save-msg"></span>
    </section>
  </main>

  <footer>Smart Khaata тАв рдЦрд░реНрдЪ, рдХрд┐рд░рд╛рдпрд╛, рдЦреЗрддреА тАФ рд╕рдм рдПрдХ рдЬрдЧрд╣</footer>

  <script src="script.js"></script>
</body>
</html>
